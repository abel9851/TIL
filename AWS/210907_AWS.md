# AWS란
[1. EC2란](#EC2란)  
[2. RDS, SaaS란](#RDS-SaaS란)  
[3. IAM이란](#IAM이란)  
[4. Route53이란](#Route53이란)  
- [도메인 구입](#도메인-구입)  

[5. S3란](#S3란)  
---

- ## EC2란

남의 컴퓨터를 빌려서 원격 제어를 통해서 사용하는 것  
남의 컴퓨터를 클라우드 라고 비유하고 있는 것이다.  

그리고 클라우드와 의미는 같지만  
좀더 오래된 표현이 바로 HOST다.  

HOST는 인터넷에 연결된 컴퓨터 한대 한대를 의미한다.  

이러한 컴퓨터를 서버로 사용할 수 있도록 빌려주는 사업을  
호스팅 비즈니스 라고 한다.  

AWS에는 여러가지 서비스가 있지만  
그중에서 순수하게 컴퓨터를 빌려주는 서비스는  
**Elastic Compute Cloud 줄여서 EC2라고 한다.**  

그렇다면 직접 서버 컴퓨터를 장만하지 않고  
왜 빌릴까?  

내가 웹사이트를 운영하다고 상상할 때  
방문자는 하루에 100명, 동시접속자는 2명이 넘지 않는다고 보면  
이런 서비스에서는 16기가 메모리가 장착된 최신식 컴퓨터는 너무 과한 사양이다.  

이때 EC2같은 서비스를 사용하면 0.5기가 바이트를 가진 초소용 컴퓨터를 임대할 수 있다.  
이런 컴퓨터는 어디가서도 구하기 힘들다.  
그리고 EC2에서 이런 컴퓨터는 저렴하다.  

반대로 컴퓨터 사용량이 많아진다해도  
AWS와 같은 클라우드 컴퓨팅을 통해서 임대할 수 있다.  

AWS에서 244기가바이트 메모리의 컴퓨터를 1년 임대하면 1800만원 정도 든다.  
직접 구축하는게 더 쌀 수 있지만  
**직접 구축할때 1주일이 걸리는 일을 AWS를 사용하면 1시간만에 구축 가능하다면 이야기가 달라진다.**  

시간으로 따지면 2000원으로 된다.  
한시간만 쓰고 EC2를 끊다면 피시방 한시간 이용요금과 비슷하다.  
시간과 돈이 모두 절약되는 가능성이 있다.  

이러한 유연함 때문에 많은 기업들이 클라우드 컴퓨팅을 선호하고 있다.  

웹에서 쉘을 사용할 수 있지만 내 컴퓨터에서 원격조종 할 수 있도록  
나중에 SSH 클라이언트를 이용해보자

- ## RDS, SaaS란

여기서 더 나아가서  
컴퓨터에 소프트웨어를 설치해주고 그것을 대신 운용해주는 방향으로 클라우드 컴퓨팅이 확장됬는데  

이런 것이 유행하는 이유는  
서버 컴퓨터 쪽에서 동작하는  소프트웨어들을 설치하고 운용하고 백업하는 것이 상당히  
까다롭고 위험한 일이기 때문이다.  

예를 들어서 AWS는 Relational Database Service(RDS)를 운영하는데  
이 서비스는 MySQL, SQL Server, ORACLE과 같은 관계형 데이터베이스를  
서비스의 형태로 제공해준다.  

즉, 내가 직접 서버 컴퓨터에 직접 설치하는 것이 아니라,  
그냥 신청을 하면 알아서 깔아서 바로 사용할 수 있도록 해준다.  

물론! **EC2에 MySQL, SQL Server 등을**  
**직접 설치해서 사용해도 된다,**  
그리고 그게 더 비용은 싸다.  

그런데 데이터베이스는 비지니스의 본질인 데이터를  
보관하는 시스템이다.  
이 시스템이 중지되거나 해킹되거나  
파괴되면, 불가역(변화를 일으킨 물질이 본디의 상태로 돌아갈 수 없는 일)적인  
타격을 입게 된다.  

**RDS와 같은 서비스를 이용하면**  
**설치, 백업, 보안을 AWS와 같은 클라우드 컴퓨팅에서 알아서 해준다**  

직접 운용하는것보다 실제로는 더 비쌀 수 있지만  
보안, 인건비, 편의성을 따져봤을때는  
결과적으로 더 저렴해질 수 있다.  

그렇기 때문에  
작은 기업부터 큰 기업까지 이런 서비스를 임대해서 사용하는 것을  
매력적으로 여기고 있다.  

참조:
[AWS1 - 1. Amazon Web Services 수업소개](https://www.youtube.com/watch?v=JJSghRnWbag&list=PLuHgQVnccGMDNWIEgnXjaZ3jgbIo5zQGi)  
[초보자도 이해할 수 있는 EC2](https://dev.classmethod.jp/articles/for-beginner-ec2-explanation/)  


- ## IAM이란

사용자들과 사용자의 권한을 관리하는 서비스가  
IAM이다.  


- ## Route53이란

DNS를 서비스화 한 것이다.  
이 서비스를 이용하면 도메인 네임을 구입할 수 있고  
구입한 도메인네임과, 또는 이미 가지고 도메인 네임에 IP주소를  
매칭시키는 관리작업을 할 수도 있다.  
특히 Route53은  
AWS의 서버의 성격을 가진, S3, EC2, ELB, CloudFront등과  
쉽게 연동이 된다.  

그리고 고급기능을 이용하면 도메인을 이용해서  
**여러 개의 서비스로 부하를 분산하는**  
**로드밸런싱하는 작업도 저렴하고 쉽게 할수 있다.**  

Route53을 사용하려면 크게 3가지 파트로 나눌 수 있다.

도메인 구입, 구입한 도메인에다가 IP를 연결시켜서 도메인으로 들어오는 사람을 그 IP로 접속 할수 있게 하는것,  
어떤 도메인에 접속했을때 그 도메인의 IP를 클라이언트가 알아내는 것, 


일단, IP가 있으면, 도메인을 사야하는데  
도메인은 등록대행자(Registrar)라는 등록 대행을 해주는 회사를 찾아가서  
example.com이라는 특정 도메인을 사고 싶다고 얘기를 해야한다.  

**바로 Route53이 도메인을 구매해주는 것을 대행해준다. 구매대행업체다**  

- ### 도메인 구입
사고싶다고 얘기를 하면, 구매대행자는 도메인에 끝에 있는  
.com(탑 레벨 도메인), kr 등 탑 레벨 도메인마다  
관리하는 기관이 각각 다른데  
.com의 경우에는 등록소(Registry)가 그것을 담당하는 기관이다.  

등록대행자는 등록소에게 클라이언트가 example.com을 사용하고 싶다고  
말하고 등록소는 수수료를 받고 example.com을 사용할 권리를 클라이언트에게 준다.  


- ### 도메인과 IP연결
도메인의 IP가 무엇인지를 전세계 사람들에게 서비스 하려면  
DNS를 가지고 있어야한다.  
컴퓨터를 장만해서 거기에 DNS 서버를 깔아도 되지만  
DNS서버를 서비스로 제공해주는 회사의 서비스를 써도 된다.  
**Route53은 바로 이런 일도 한다.**  
도메인 네임 서버를 임대해주는 것, Route53의 핵심기능이다.  

도메인 서버를 장만했으면(직접 설정, 혹은 임대),
**거기에 세팅을 하는 것이다.**  
**example.com의 IP는 93.184.216.34라고.**  

**이렇게 등록을 했으면, .com의 등록소(Registry)에게**  
**example.com을 관리하는 도메인네임서버가 a.iana-servers.net라는 것을 알려줘야한다.**  
등록소에 도메인 네임 서버를 알려주는 것 또한 등록대행자가 해준다.  

이렇게 알려주면 등록소가 가지고 있는, 도메인 네임서버(a.gtld-servers.net)에  
example.com의 NS는, a.iana-servers.net이라고 기록해둔다.  
여기까지 하면 등록과정이 끝난다.  

**만약, IP주소가 바뀌었으면, 등록대행자에 등록했던**  
**도메인의 IP주소만 바꿔주면된다.**  

- ### 클라이언트가 도메인에 접속
클라이언트가 인터넷에 접속하기위해  
와이파이에 접속하거나 Lan선을 꼽는 순간에  
통신을 제공하는 사업자가  
클라이언트가 사용할 도메인네임서버를 자동으로 세팅해준다.  

예를 들어 1.1.1.1이라는 IP를 가지고 있는 도메인 네임서버가 세팅되었다고 생각해보자  

그러면 클라이언트는 어떠한 도메인에 접속하려고 하면  
IP를 알아내야하는데  
그 IP를 1.1.1.1이라는 IP를 가지고 있는 도메인 네임 서버에게 물어보게 된다.  
이때 1.1.1.1의 DNS는 example.com의 IP를 모르지만  
제일 먼저 **Root name server**에게 물어보도록 약속되어 있다.  

그리고 Root name server가 누구냐는 것은, 모든 DNS에 적혀있다.(상수로!)  

1.1.1.1 DNS서버는 a.root-servers.net이라는 주소에 해당되는 컴퓨터한테 example.com의 ip를 알려달라고 물어본다.  

a.root-servers.net에 해당하는 RNS 또한 example.com을 모르지만  
.com이라고 하는 등록소(a.gtld-servers.net)가 어떤 네임서버를 운용하는지 알 수 있다.  
즉 등록소의 DNS의 주소를 알고 있으므로 example.com에 대해서는  
**a.gtld-servers.net에게 물어보라고 1.1.1.1 DNS서버에게 응답한다.**

그러면 1.1.1.1의 DNS 서버는 등록소(a.gtld-servers.net)에게 example.com의 IP가 뭐냐고 물어보고  
등록대행자의 DNS 서버(a.iana-servers.net)에게 물어보라고 응답한다.  

그러면 1.1.1.1의 DNS 서버는 등록대행자(a.iana-servers.net에 해당하는 DNS서버)에 접속해서  
example.com의 ip가 뭐냐고 물어본다.  
그러면 등록대행자의 DNS 서버는 1.1.1.1이라는 DNS서버에게 example.com의 ip인 93.184.216.34를 응답해주고  
클라이언트는 93.184.216.34를 통해 접속가능하게 된다.

즉 **Route53은 등록대행자와 DNS서버를 임대해주는 것(example.com의 ip는 93.194.216.34라는 것을 기록)이**  
**핵심 기능이다.**  


- ## ELB와 ALB란

참조: [AWS ELB, ALB란](https://medium.com/harrythegreat/aws-%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-9fd0955f859e)

- ## VPC란

virtual private cloud로, 아마존이 EC2(classic EC2)를 했을 때는 VPC가 없었고  
나중에 2012년 경에 생겼지만, 그때는 VPC를 사용할지, 안사용할지 선택 할 수 있었다.  
그러나 지금은 무존건 VPC를 선택해야한다. 아니, 선택하지 않는 항목따윈 없다   

VPC는 각 AWS 계정마다 논리적으로 나뉘어진 네트워크 환경을 구성하는 것이다.  
나의 계정으로 AWS 리소스(EC2, RDS, S3)들을 생성하면 그 리소스는 default VPC에 속하게 되며  
다른 사람의 계정으로는 나의 VPC을 볼수도, 접근할 수도 없다.  

classic EC2였을때는 이렇게 논리적으로 나뉘어진 네트워크 공간이 아닌,  모두가 한 네트워크에 접속해서   
그곳에 EC2(AWS 리소스)를 생성하는 구조였지만 지금은 모든 계정이 VPC를 가지고 있다.  

EC2를 생성할때 보이는 네트워크라는 항목이 바로 VPC를 설정하는 항목이고  
그 아래에 있는 서브넷은 VPC에 속하는 리소스이다.  
하나의 인스턴스는 무조건 하나의 서브넷에 속해야한다.(**어째서? 서브넷은 하나지만 호스트는 여러 개 둘 수 있지 않나?**)  
단, 기본값을 사용한다면 기본 VPC에서 인스턴스가 생성될 것이다.  

RDS를 만드는 과정 중 세번째 단계에서도 네트워크를 설정하게 된다.  
자세히 보면 EC2의 네트워크 설정과 아주 비슷한 것을 알 수 있다.  
VPC와 서브넷을 선택해야하고 여기서에서도 하나의 RDS 인스턴스는  
하나의 서브넷에 속해야 한다.  

VPC는 중의적인 이름이다.  
VPC **그 자체가 리소스의 이름이고**, **동시에 버추얼 프라이빗 클라우드를**  
**구축하기 위한 일체의 리소스를 제공하는 서비스의 이름이기도 하다.**  

VPC = VPC 리소스 그자체(격리된 논리적인 네트워크 공간) + VPC를 구성하기 위한 일체의 리소스를 제공하는 서비스


참조: [AWS - VPC란](https://www.44bits.io/ko/post/understanding_aws_vpc)  


- ## S3란

simple storage service의 줄임말이다.  
직역하면 간단한 저장 서비스라는 것인데  
AWS를 하나의 컴퓨터라고 비유했을때 S3는 하드디스크, SSD와 같은 저장장치라고 볼 수 있다.  
즉, 내가 가지고 있는 파일을 보관해주는 서비스가 S3다.  

예를 들어 잃어버리면 안되는 파일(금융정보라던가, 사적인 비밀이라던가)이 있을 때  
고장나지 않는, 잃어버리지 않는 저장장치에 저장하기를 원할 것이다.  

S3의 웹사이트에서 S3의 내용을 보면 보면 내구성, 하나의 AWS 리전 내에서   
수 킬로미터 거리가 떨어져 있는 최소 3개의 물리적 가용영역(AZ)에 자동분산된다고 나온다.  

즉, S3에 파일을 올리게 되면 여러 대의 컴퓨터의, 최소 3대 이상의 컴퓨터에  
파일이 카피된다.  
그리고 각각의 컴퓨터는 같은 건물이 아니라  
서로 멀리 떨어져있는 다른 건물에 존재한다.   
하나의 건물이 완파되도 나머지 건물이 있을 가능성이 매우 높다.  

이러한 특성을 S3의 내구성이라고 한다.  
그리고 이러한 내구성은 99.999999999% 제공되도록 설계되어있다고 법적으로 계약되어 있다.  

그리고 S3는 보관하는 것만이 아니라, 인터넷이 연결되어 있어서  
인터넷에 접속해있는 누구나 그 파일에 다운로드 받을 수 있다.  
즉, 일종의 파일서버로도 사용할 수 있다는 것이다.  
이러한 S3를 사용하면 죽지 않는 파일서버를 만들 수 있다.  

그리고 파일이 자동으로 5년 뒤에 삭제되거나,  
1년 뒤에는 좀 더 저렴한 저장장치로 이동하길 원한다면 그러한 것들도 자동화해주는 기능을 가지고 있다.  

그리고 하나의 파일을 수정한다고 치면,  
파일이름이 같으므로 예전 파일은 잃어버리게 되는데  
예전에 있던 파일 즉, 그 파일의 예전버전도 자동으로 유지되게 하고  
쉽게 찾을 수 있도록 도와준다.  
이러한 버전관리기능도 S3가 제공해준다.  

이것들 이외에도 여러가지의 기능을 S3는 제공해준다.  

정보시스템을 보면, CRUD를 할줄 알면 일단 기본은 하는 것이다.  
S3에 대해서도 여러기능이 있지만 이 CRUD를 먼저 할 수 있도록 한 다음에  
나머지 기능은 필요할 때 배우자.  
