# GPG, PGP, OpenPGP  

이 문서에서 쓰인 단어는 참조의 GPG 가이드의 용어정리를 기반으로 한다.  


- 평문  
보통 읽을 수 있는 지금의 문서처럼  
사람이 보는 즉시 내용을 파악할 수 있게 노출된 글 

- 암호문  
qwdnmlkjwjndjinwqk12321980749812scqjlkq와 같이(적당히 씀)  
특수한 방법을 이용하지 않고는 그 내용을 파악하기 힘든 글  

- 암호  
상대방과 정한 약속 혹은 내가 암호문을 만들거나 해독할때 쓰는 단어나 구절.  

- 대칭 암호(symmetric cryptography)  
상대방과 내가 동일하게 알고 있는 암호를 통해 구현하는 기법

- 비대칭암호(asymetric cryptography)  
상대방과 내가 문서교환을 위해 서로 다른 키를 갖는 기법

- 해쉬  
Hash 함수로 표현하며 길든 짧든, 문자든 숫자든 인풋을 받아 고정 크기(길이)의 값으로 반환하는 함수.  
대표적인 것들은 MD5, SHA-256, SHA-512 등

- 지문  
공개키를 공유하고 나서도 이 키가 상대방(메시지를 주고 받을 사람)의 것이 맞는지  
확인하기 위한 방법으로 지문을 활용한다.  
물론 '키'의 지문을 사용한다.  
여기서의 지문은 키 ID로도 활용한다.  
일반적으로, 키 ID를 필요로 할 때에는 공백 없이, 지문을 확인할 때에는 4자기(1바이트씩)씩 끊어서 활용한다.  

공개키를 공유 받은 후, 상대방과 통화, 메신저 등 본인임을 확신 할 수 있는 방법으로 지문을  
한글자씩 대조하여 확인하는게 좋다.  

- 신뢰망  
GPG와 같은 공개키 암호화 방식은 상호 간의 신뢰망(Web of Trust)를 통해 구축된다.  
A가 B라는 사람의 공개키를 본인이 실제로 지인이고 지문도 확인했다고 인증한 경우,  
A를 아는 C도 B라는 사람의 공개키를 신뢰할 수 있게 되는 것이다.  
이것은 바꾸어 말하면, 본인이 타인의 공개키를  인증할 때에 
매우 신중을 기해야 함을 뜻한다.  

- 키서버  
공개키는 공유할 때 의미가 있다.  
상대방이 나에게 메시지를 보내려면 나의 공개키로  
메시지를 암호화해야하는데  
나에게 메시지를 보내고 싶은 사람에게  
매회 공개키를 보내거나 요구 받을 수는 없는 노릇이다.  
따라서 '키서버'가 존재한다.  
GPG 프로그램을 이용해서 쉽게 키서버에 본인의 공개키를 공유할 수도 있고  
웹 브라우저를 통해 접속해서 등록할 수도 있다.  

- 키 서명  
다른 사람의 키를 안전한 것으로 확인한다는 인증(Certificate)을 표현하고 키 서명(Signing a key)이라는 표현을 쓰는데  
이것은 다른 기능을 하는 서명(S)이라는 표현과 중복됨에도 함께 쓰이고 있다.  
실제로 '키 서명' 과정에서 '인증'에 해당하는  
'C'기능이 부여된 키가 활용된다.  
문제는 하필, 'C'기능이 부여된 키가 'S'도 함께 부여받는 경우가 잦다.  

- GPG  
Gnu PG(privacy guard)의 약자로  
각종 암호화 도구들을 무료로 배포, 활용할 수 있는 소프트웨어이다.  
다만, GNU의 유틸리가 모두 그러하듯이,  
라이센스가 매우 공격적.  
상업적으로 판매할 제품에 GPG를 활용한다면  
GPL(그누 공개 라이센스)를 사용해야만 한다.  
GPL은 해당 라이센스가 붙은 제품을 활용하여  
부차적인 제품을 제작하는 경우, 마찬가지로 GPL을 사용하도록 하고 있다.  
소스 코드를 반드시 공개할 것을 강제하는 라이센스이다.  

- PGP  
pretty good privacy의 약자로 1991년 처음 쓰인 공개키 암호화 방법인 PGP를 기반으로 암호화 관련 제품을 판매하는 상업회사이다.  
혹은 컴퓨터 파일을 암호화하고 복호화 하는 프로그램이다.(보통은 이쪽)  


- OpenPGP  
PGP, GPG를 아울러 공개키 암호화 알고리즘을 칭하는 말이다.  
PGP 제품을 GPG라고 하면 화를 내고, 반대로 GPG 제품을 PGP이라고 하면 자유 소프트웨어 진영에서 화를 내겠지만  
OpenPGP라고 하면 양쪽 다 적당히 수긍한다는 듯.


## 서명까지 포함한 공개키 방식(?)  
---

발송자 A와 수신자 B가 있을 때의 과정이다.  

- 발송자 A측
1. 메시지를 B의 공개키로 암호화
2. 메시지를 해쉬 
3. 2에서 나온 해쉬값을 개인키로 암호화(이것이 서명)
4.  B의 공개키로 암호화한 메시지와 암호화한 해쉬값을 B에게 전송

- 수신자 B측
1. 전송 받은 암호화된 해쉬값을 A의 공개키로 복호화
2. 전송 받은 암호화된 메시지를 B의 개인키로 복호화
3. B의 개인키로 복호화된 메시지를 해쉬해서 해쉬값으로 만듬
4. 1에서 A의 공개키로 복호화한 해쉬값과 3에서 나온 해쉬값이 같은 지 비교
5. 같으면 문제없음


참조  
[공개키 암호화와 PGP에 대한 소개](https://guide.jinbo.net/digital-security/communication-security/introduction-public-key-encryption)  
[PGP란 무엇인가요?](https://academy.binance.com/ko/articles/what-is-pgp)  
[GPG 가이드](https://jeonwh.com/gpg/)  
[시리즈:암호의 암도 몰라도 쉽게 하는 GPG](https://librewiki.net/wiki/%EC%8B%9C%EB%A6%AC%EC%A6%88:%EC%95%94%ED%98%B8%EC%9D%98_%EC%95%94%EB%8F%84_%EB%AA%B0%EB%9D%BC%EB%8F%84_%EC%89%BD%EA%B2%8C_%ED%95%98%EB%8A%94_GPG)