#urls.py

클라이언트가 url로 요청을 하면  
장고에서는 모든 url을 먼저 config에 있는  
urls.py에 접근한다.

```python

from django.urls import path, include

urlspatterns = [
    path("", include("core.urls", namespace="core")),
    path("admin/", admin.site.urls),
]
```

path() 안의 첫번째 인자는 url을 적고,  
두번째는 그 url을 어떤 로직으로 처리할지 view 함수를 적는다.

클라이언트로부터 `http://localhost:8000/admin`으로 요청이 오면  
`8000/`의 앞부분, 즉 `admin/`부터 장고는 urls.py에  
해당 path가 있는지 찾는다.  
해당 하는 path가 있으면, 그와 연결된 view 함수를 후출한다.

`include()`는 첫번째 인자로  
`/`로 시작하는 url을 처리할 urls.py를 지정 (위에서는 core앱의 urls.py로 지정하여 `/`로 시작하는 모든 url에 대해서는  
core앱의 urls.py가 처리한다는 뜻이다 ), `namespace`에는 구분을 위해 이름을 지정한다.

- core.urls

```python

from django.urls import path
from rooms import views as room_views

app_name="core" #탬플릿이나 reverse 함수를 쓸때
                #앱 네임으로 url을 찾을때 쓴다.
                # 앱 네임은 settings/urls에서 정의한 namespace와 이름이 같아야한다.

urlpatterns = [
    path("", room_views.HomeView.as_view(), name="home") # 뷰에 이름을 줘서 core:home 형식으로 url과 그에 매칭되는 view를 호출하게 해준다. 앱네임, 뷰네임을 통해 url을 찾는다.
]


```

path의 첫번째 인자에 url이 공백이므로,  
`http://localhost:8000` url로 요청 온 것을  
room_views.HomeView.as_view()로 처리한다는 뜻이다.

url과 view함수의 매칭은 urlconf가 해준다.

- namespace

rooms라는 앱과 users라는 앱이 있을때  
각각의 앱의 view에는 core라는 view가 있을 경우

즉 2개가 있을 경우, 이를 구분할때 namespace는 쓰인다.  
**namespace는 urls.py의 앱네임과 같아야한다.**  
**자세한 것은 restful API를 공부하면 알 수 있다.**

```python
#config/urls.py



urlspatterns = [
    path("rooms/", include("rooms.urls",namespace="rooms"), ),
    path("users/", include("users.urls", namespace="users"), ),
]


#rooms/urls.py

appname = "rooms"

urlspatterns = [
    path("create/", views.core, name="core")
]

#users/urls.py

appname = "users"

urlspatterns = [
    path("users/", views.core, name="core")
]
```

- 분할된 mapping

모든 urls들이 URL_confdptj mapping을 할 때,  
전부 config/urls.py를 확인한다면  
이는 객체지향의 특성에서 어긋난다.  
/room/~에 관한 처리는 room이라는 app에서 책임을 맡아 처리해주어야 정상이며, /user/~에 관한 처리는  
user라는 app에서 책임을 맡아 수행해야 정상이다.

따라서 config/urls.py에는 해당 url이 들어왔을때  
어느 위치에서 이를 처리해야할지만 등록해둔다.

path("", include("core.urls", namespace="core"))을 보면  
include가 되어있다.  
이는 /으로 들어온 url에 관한 처리를 core/urls.pyf를 찾아 mapping하라는 의미이다.

- name

나중에 해당 url을 처리할 때 url전부를 하드코딩 하는것이 아니라, 간편하게 해당 url을 지칭할 수 있다.
